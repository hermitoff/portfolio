<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>Administration – Élodie GIMENEZ</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' href='/main.css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
    <div id="loader">
        <div class="spinner"></div>
    </div>
    <%- include('../partials/navbar') %>
    
    <div class="cv-layout" style="max-width: 1200px; margin: 80px auto;">
        <div class="cv-left" style="width: 100%;">
            <h1><i class="fas fa-tachometer-alt" style="margin-right: 10px;"></i>Tableau de bord Admin</h1>
            <p style="margin-bottom: 40px; color: #666;">Bienvenue dans votre espace d'administration</p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <!-- Gestion des pages -->
                <div style="background: rgba(79, 70, 229, 0.1); border: 1px solid rgba(79, 70, 229, 0.2); border-radius: 12px; padding: 24px;">
                    <h3 style="margin: 0 0 16px 0; color: var(--accent-color);">
                        <i class="fas fa-file-alt" style="margin-right: 8px;"></i>
                        Gestion des pages
                    </h3>
                    <p style="margin-bottom: 20px; color: #666; line-height: 1.6;">
                        Créer, modifier et publier les pages de votre portfolio
                    </p>
                    <button onclick="window.location.href='/admin/pages'" style="width: 100%;">
                        <i class="fas fa-edit" style="margin-right: 8px;"></i>
                        Gérer les pages
                    </button>
                </div>
                
                <!-- Gestion des utilisateurs -->
                <div style="background: rgba(34, 197, 94, 0.1); border: 1px solid rgba(34, 197, 94, 0.2); border-radius: 12px; padding: 24px;">
                    <h3 style="margin: 0 0 16px 0; color: #16a34a;">
                        <i class="fas fa-users" style="margin-right: 8px;"></i>
                        Utilisateurs
                    </h3>
                    <p style="margin-bottom: 20px; color: #666; line-height: 1.6;">
                        Gérer les comptes utilisateurs et les permissions
                    </p>
                    <button onclick="window.location.href='/admin/users'" style="width: 100%; background: #16a34a;">
                        <i class="fas fa-user-cog" style="margin-right: 8px;"></i>
                        Gérer les utilisateurs
                    </button>
                </div>
                
                <!-- Statistiques -->
                <div style="background: rgba(251, 146, 60, 0.1); border: 1px solid rgba(251, 146, 60, 0.2); border-radius: 12px; padding: 24px;">
                    <h3 style="margin: 0 0 16px 0; color: #ea580c;">
                        <i class="fas fa-chart-bar" style="margin-right: 8px;"></i>
                        Statistiques
                    </h3>
                    <p style="margin-bottom: 20px; color: #666; line-height: 1.6;">
                        Voir les analytics et les statistiques du site
                    </p>
                    <button onclick="window.location.href='/admin/stats'" style="width: 100%; background: #ea580c;">
                        <i class="fas fa-analytics" style="margin-right: 8px;"></i>
                        Voir les stats
                    </button>
                </div>
                
                <!-- Paramètres -->
                <div style="background: rgba(168, 85, 247, 0.1); border: 1px solid rgba(168, 85, 247, 0.2); border-radius: 12px; padding: 24px;">
                    <h3 style="margin: 0 0 16px 0; color: #9333ea;">
                        <i class="fas fa-cog" style="margin-right: 8px;"></i>
                        Paramètres
                    </h3>
                    <p style="margin-bottom: 20px; color: #666; line-height: 1.6;">
                        Configuration générale du site et préférences
                    </p>
                    <button onclick="window.location.href='/admin/settings'" style="width: 100%; background: #9333ea;">
                        <i class="fas fa-wrench" style="margin-right: 8px;"></i>
                        Paramètres
                    </button>
                </div>
            </div>
            
            <div style="margin-top: 40px; padding: 20px; background: rgba(0, 0, 0, 0.02); border-radius: 8px; text-align: center;">
                <p style="margin: 0; color: #666;">
                    Connecté en tant que <strong><%= user ? user.username : 'Utilisateur' %></strong>
                </p>
                <button onclick="logout()" style="margin-top: 15px; background: #dc2626;">
                    <i class="fas fa-sign-out-alt" style="margin-right: 8px;"></i>
                    Se déconnecter
                </button>
            </div>
        </div>
    </div>

    <%- include('../partials/footer') %>
    <script src="/index.js"></script>
    <script>
        function logout() {
            if (confirm('Êtes-vous sûr de vouloir vous déconnecter ?')) {
                // Rediriger vers la route de déconnexion
                window.location.href = '/admin/logout';
            }
        }
        
        // Animation d'apparition des cartes
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('[style*="grid-template-columns"] > div');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.animation = `slideUp 0.6s ease-out ${index * 0.1}s forwards`;
            });
        });
    </script>
    <style>
        /* Styles pour les cartes admin */
        [style*="grid-template-columns"] > div {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        [style*="grid-template-columns"] > div:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        @keyframes slideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @media (max-width: 768px) {
            .cv-layout {
                width: 95%;
                margin: 40px auto;
            }
            
            [style*="grid-template-columns"] {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
</body>
</html>